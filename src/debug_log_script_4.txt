=== FINAL PROMPT SENT ===


You are a specialist in producing high-quality educational animations using Manim v0.19.0 (Python).
Your goal is to turn a provided topic script into a visually clear, accurate, and fully executable Python animation that communicates concepts step-by-step.
Follow these CRITICAL INSTRUCTIONS exactly as described:
...
Now, based on the following structured input:
CATALOG: {catalog}
SCRIPT_SEQ: 4
SCRIPT_FOR_MANIM: [
  "Start with the classroom grid from Scene 3.",
  "Fade out the grid and zoom in on the original square with labels.",
  "Animate the labels fading out one by one, starting with 'D' and moving counterclockwise.",
  "Reappear all labels simultaneously and brighten them.",
  "End with a final zoom on the square and a text overlay: 'Mastering Labels at Square Corners'.",
  "Fade to black."
]
SCRIPT_VOICE_OVER: [
  "To recap, we\u2019ve learned how to label the corners of a square accurately.",
  "Starting from the top-left corner as 'A', we move clockwise to label 'B', 'C', and 'D'.",
  "These labels remain consistent even when the square rotates.",
  "We also saw how this concept applies to real-life situations, like classroom seating charts.",
  "By mastering labels at square corners, you\u2019ll enhance your spatial understanding and organizational skills. Thank you for watching!"
]
SCRIPT_LENGTH: 30
Generate the FULL Manim Python code that:
- Follows all layout, geometry, boundary, and animation rules.
- Produces a step-by-step educational animation.
- Uses correct scaling and non-overlapping text.
- Is self-contained and executable without errors.
- Returns ONLY valid Python code (no explanations or Markdown formatting).
:pushpin: Previous Code (for continuity):
import numpy as np

class ClassroomSeatingChart(Scene):
    def construct(self):
        # Initialize objects from previous scene
        self.title = Text("Labels at Square Corners: Real-Life Example", font_size=72).to_edge(UP)
        self.square = Square(fill_opacity=0.6, fill_color=GREY_BROWN)
        self.square.move_to(ORIGIN)
        self.dots = [Dot(point=corner, color=color, radius=0.1) for corner, color in zip(self.square.get_corners(), [RED, GREEN, BLUE, YELLOW])]
        self.labels = VGroup(*[Text(label, font_size=36).next_to(dot, RIGHT) for label, dot in zip('ABCD', self.dots)])

        # Start with the square and labels from Scene 2
        self.play(FadeIn(self.square), Write(self.labels))
        self.wait()

        # Fade in real-life example: classroom seating chart
        classroom_grid = Square(fill_opacity=0.3, fill_color=GREEN, side_length=6).shift(DOWN * 2)
        classroom_labels = VGroup(*[Text(label, font_size=24).next_to(classroom_grid.get_corner(corner), RIGHT) for label, corner in zip('ABCD', range(4))])
        student_icon = Circle(color=RED, fill_opacity=1).scale(0.1)

        self.play(FadeIn(classroom_grid), Write(classroom_labels))
        self.wait()

        # Animate student movement and highlight corners
        student_path = [classroom_grid.get_corner(i) for i in range(4)]
        self.play(
            MoveAlongPath(student_icon, student_path),
            *[Flash(classroom_labels[i], flash_radius=0.2) for i in range(4)],
            run_time=4
        )

        # Zoom out to show the entire grid with labeled corners
        full_grid = classroom_grid.copy().scale(1.5).shift(UP)
        full_labels = VGroup(*[Text(label, font_size=30).next_to(full_grid.get_corner(corner), RIGHT) for label, corner in zip('ABCD', range(4))])

        self.play(
            Transform(classroom_grid, full_grid),
            Transform(classroom_labels, full_labels),
            run_time=2
        )
        self.wait()

# Run the animation
ClassroomSeatingChart().render()


=== GENERATED CODE ===

```python
import numpy as np

class SquareCornerLabels(Scene):
    def construct(self):
        # Retrieve objects from previous scene
        self.square = self.get_previous_mobject("square")
        self.dots = self.get_previous_mobjects("dots")
        self.labels = self.get_previous_mobjects("labels")

        # Start with the classroom grid from Scene 3
        classroom_grid = self.get_previous_mobject("classroom_grid")
        classroom_labels = self.get_previous_mobjects("classroom_labels")
        self.play(FadeIn(classroom_grid), Write(classroom_labels))

        # Fade out the grid and zoom in on the original square
        self.play(FadeOut(classroom_grid), FadeOut(classroom_labels))
        self.play(self.camera_frame.animate.recenter(self.square.get_center()))
        self.remove(self.dots)  # Remove dots for better visibility

        # Animate labels fading out counterclockwise
        fade_out_labels = AnimationGroup(
            *[FadeOut(label) for label in self.labels],
            run_time=2,
            lag_ratio=0.3,
        )
        self.play(fade_out_labels)

        # Reappear all labels and brighten them
        self.play(FadeIn(self.labels), UpdateFromAlphaFunc(self.labels, self.brighten))

        # Final zoom on the square and text overlay
        final_text = Text("Mastering Labels at Square Corners", font_size=48).to_edge(UP)
        self.play(self.camera_frame.animate.recenter(self.square.get_center()), Write(final_text))
        self.wait()
        self.play(FadeOut(final_text), FadeOut(self.labels))

        # Fade to black
        self.play(FadeOut(self.square))

# Run the animation
SquareCornerLabels().render()
```